-- 深拷贝
table.deepCopy = function(t)
    local fun = nil
    fun = function (object)
        if type(object) ~= "table" then
            return object
        end
        local NewTable = {}
        for k, v in pairs(object) do
            NewTable[fun(k)] = fun(v)
        end
        return setmetatable(NewTable, getmetatable(object))
    end

    return fun(t)
end
-- 取table成员数量
function table.count(t)
    if not t or type(t) ~= "table" then
        return 0
    end

    local n = 0
    for _, _ in pairs(t) do
        n = n + 1
    end
    return n
end
-- 判断是否是数组
function table.isArray(t)
    for i = 1, table.count(t) do
        if not t[i] then
            return false
        end
    end
    return true
end
-- 合并
table.merge = function(t1,t2)
    local t = table.deepCopy(t1);
    if(table.isArray(t1) and table.isArray(t2)) then
        for index, value in ipairs(t2) do
            table.insert(t,value)
        end
    else
        for key, value in pairs(t2) do
            t[key] = value;
        end
    end
    return t
end
-- 数组成员存在检查
table.exist = function(t, value)
    for k, v in pairs(t) do
        if v == value then
            return true
        end
    end
    return false
end
-- 数组删除成员
table.del = function(t, value)
    for k, v in pairs(t) do
        if v == value then
            table.remove(t, k)
            --t[k] = nil
            return true
        end
    end
    return false
end
-- CS数组对象转Table
table.csArrayToTable = function(csArray)
    local t = {}
    for i = 0, csArray.Length-1 do
        table.insert(t,csArray:GetValue(i))
    end
    return t
end